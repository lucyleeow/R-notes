<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 12 Rmarkdown | R notes</title>
  <meta name="description" content="Guide to R.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 12 Rmarkdown | R notes />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Guide to R." />
  <meta name="github-repo" content="lucyleeow/R_notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 Rmarkdown | R notes />
  
  <meta name="twitter:description" content="Guide to R." />
  

<meta name="author" content="Lucy Liu">


<meta name="date" content="2018-12-26">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-table.html">
<link rel="next" href="package-development.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#r-files"><i class="fa fa-check"></i><b>2.1</b> R files</a><ul>
<li class="chapter" data-level="2.1.1" data-path="introduction.html"><a href="introduction.html#memory"><i class="fa fa-check"></i><b>2.1.1</b> Memory</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction.html"><a href="introduction.html#r-project"><i class="fa fa-check"></i><b>2.1.2</b> R project</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#packages"><i class="fa fa-check"></i><b>2.2</b> Packages</a><ul>
<li class="chapter" data-level="2.2.1" data-path="introduction.html"><a href="introduction.html#library"><i class="fa fa-check"></i><b>2.2.1</b> Library</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction.html"><a href="introduction.html#bioconductor"><i class="fa fa-check"></i><b>2.2.2</b> Bioconductor</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#basics"><i class="fa fa-check"></i><b>2.3</b> Basics</a><ul>
<li class="chapter" data-level="2.3.1" data-path="introduction.html"><a href="introduction.html#arithmetic"><i class="fa fa-check"></i><b>2.3.1</b> Arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#help"><i class="fa fa-check"></i><b>2.4</b> Help</a></li>
<li class="chapter" data-level="2.5" data-path="introduction.html"><a href="introduction.html#data-types"><i class="fa fa-check"></i><b>2.5</b> Data types</a><ul>
<li class="chapter" data-level="2.5.1" data-path="introduction.html"><a href="introduction.html#numeric"><i class="fa fa-check"></i><b>2.5.1</b> Numeric</a></li>
<li class="chapter" data-level="2.5.2" data-path="introduction.html"><a href="introduction.html#coercion"><i class="fa fa-check"></i><b>2.5.2</b> Coercion</a></li>
<li class="chapter" data-level="2.5.3" data-path="introduction.html"><a href="introduction.html#factors"><i class="fa fa-check"></i><b>2.5.3</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introduction.html"><a href="introduction.html#data-structures"><i class="fa fa-check"></i><b>2.6</b> Data structures</a><ul>
<li class="chapter" data-level="2.6.1" data-path="introduction.html"><a href="introduction.html#atomic-vector"><i class="fa fa-check"></i><b>2.6.1</b> Atomic vector</a></li>
<li class="chapter" data-level="2.6.2" data-path="introduction.html"><a href="introduction.html#lists"><i class="fa fa-check"></i><b>2.6.2</b> Lists</a></li>
<li class="chapter" data-level="2.6.3" data-path="introduction.html"><a href="introduction.html#matrix"><i class="fa fa-check"></i><b>2.6.3</b> Matrix</a></li>
<li class="chapter" data-level="2.6.4" data-path="introduction.html"><a href="introduction.html#array"><i class="fa fa-check"></i><b>2.6.4</b> Array</a></li>
<li class="chapter" data-level="2.6.5" data-path="introduction.html"><a href="introduction.html#dataframes"><i class="fa fa-check"></i><b>2.6.5</b> Dataframes</a></li>
<li class="chapter" data-level="2.6.6" data-path="introduction.html"><a href="introduction.html#high-dimension-structures"><i class="fa fa-check"></i><b>2.6.6</b> High dimension structures</a></li>
<li class="chapter" data-level="2.6.7" data-path="introduction.html"><a href="introduction.html#attributes"><i class="fa fa-check"></i><b>2.6.7</b> Attributes</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introduction.html"><a href="introduction.html#nas"><i class="fa fa-check"></i><b>2.7</b> NAs</a></li>
<li class="chapter" data-level="2.8" data-path="introduction.html"><a href="introduction.html#importing-exporting"><i class="fa fa-check"></i><b>2.8</b> Importing &amp; exporting</a></li>
<li class="chapter" data-level="2.9" data-path="introduction.html"><a href="introduction.html#saving-objects"><i class="fa fa-check"></i><b>2.9</b> Saving objects</a><ul>
<li class="chapter" data-level="2.9.1" data-path="introduction.html"><a href="introduction.html#feather"><i class="fa fa-check"></i><b>2.9.1</b> feather</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-wrangling-base-r.html"><a href="data-wrangling-base-r.html"><i class="fa fa-check"></i><b>3</b> Data wrangling - base R</a><ul>
<li class="chapter" data-level="3.1" data-path="data-wrangling-base-r.html"><a href="data-wrangling-base-r.html#useful-functions"><i class="fa fa-check"></i><b>3.1</b> Useful functions</a></li>
<li class="chapter" data-level="3.2" data-path="data-wrangling-base-r.html"><a href="data-wrangling-base-r.html#subsetting"><i class="fa fa-check"></i><b>3.2</b> Subsetting</a></li>
<li class="chapter" data-level="3.3" data-path="data-wrangling-base-r.html"><a href="data-wrangling-base-r.html#apply-family"><i class="fa fa-check"></i><b>3.3</b> Apply family</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-wrangling-base-r.html"><a href="data-wrangling-base-r.html#uses"><i class="fa fa-check"></i><b>3.3.1</b> Uses</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-wrangling-base-r.html"><a href="data-wrangling-base-r.html#docall"><i class="fa fa-check"></i><b>3.4</b> do.call()</a></li>
<li class="chapter" data-level="3.5" data-path="data-wrangling-base-r.html"><a href="data-wrangling-base-r.html#do.call-vs-lapply-vs-map"><i class="fa fa-check"></i><b>3.5</b> do.call vs lapply vs map</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html"><i class="fa fa-check"></i><b>4</b> Data wrangling - tidyverse</a><ul>
<li class="chapter" data-level="4.1" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.1</b> Tibbles</a></li>
<li class="chapter" data-level="4.2" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#readr"><i class="fa fa-check"></i><b>4.2</b> readr</a><ul>
<li class="chapter" data-level="4.2.1" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#parsing"><i class="fa fa-check"></i><b>4.2.1</b> Parsing</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#exporting"><i class="fa fa-check"></i><b>4.2.2</b> Exporting</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#dplyr"><i class="fa fa-check"></i><b>4.3</b> dplyr</a><ul>
<li class="chapter" data-level="4.3.1" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#subsetting-1"><i class="fa fa-check"></i><b>4.3.1</b> Subsetting</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#the-pipe"><i class="fa fa-check"></i><b>4.3.2</b> The pipe %&gt;%</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#filter"><i class="fa fa-check"></i><b>4.3.3</b> filter</a></li>
<li class="chapter" data-level="4.3.4" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#select"><i class="fa fa-check"></i><b>4.3.4</b> select</a></li>
<li class="chapter" data-level="4.3.5" data-path="data-wrangling-tidyverse.html"><a href="data-wrangling-tidyverse.html#mutate"><i class="fa fa-check"></i><b>4.3.5</b> mutate</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="string-manipulation.html"><a href="string-manipulation.html"><i class="fa fa-check"></i><b>5</b> String manipulation</a><ul>
<li class="chapter" data-level="5.1" data-path="string-manipulation.html"><a href="string-manipulation.html#grep-family"><i class="fa fa-check"></i><b>5.1</b> Grep family</a><ul>
<li class="chapter" data-level="5.1.1" data-path="string-manipulation.html"><a href="string-manipulation.html#locating-pattern-within-string"><i class="fa fa-check"></i><b>5.1.1</b> Locating pattern within string</a></li>
<li class="chapter" data-level="5.1.2" data-path="string-manipulation.html"><a href="string-manipulation.html#replacments"><i class="fa fa-check"></i><b>5.1.2</b> Replacments</a></li>
<li class="chapter" data-level="5.1.3" data-path="string-manipulation.html"><a href="string-manipulation.html#backreferences"><i class="fa fa-check"></i><b>5.1.3</b> Backreferences</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="string-manipulation.html"><a href="string-manipulation.html#regular-expressions"><i class="fa fa-check"></i><b>5.2</b> Regular expressions</a><ul>
<li class="chapter" data-level="5.2.1" data-path="string-manipulation.html"><a href="string-manipulation.html#quantifiers"><i class="fa fa-check"></i><b>5.2.1</b> Quantifiers</a></li>
<li class="chapter" data-level="5.2.2" data-path="string-manipulation.html"><a href="string-manipulation.html#position"><i class="fa fa-check"></i><b>5.2.2</b> Position</a></li>
<li class="chapter" data-level="5.2.3" data-path="string-manipulation.html"><a href="string-manipulation.html#operators"><i class="fa fa-check"></i><b>5.2.3</b> Operators</a></li>
<li class="chapter" data-level="5.2.4" data-path="string-manipulation.html"><a href="string-manipulation.html#character-classes"><i class="fa fa-check"></i><b>5.2.4</b> Character classes</a></li>
<li class="chapter" data-level="5.2.5" data-path="string-manipulation.html"><a href="string-manipulation.html#examples"><i class="fa fa-check"></i><b>5.2.5</b> Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="control-flow.html"><a href="control-flow.html"><i class="fa fa-check"></i><b>6</b> Control flow</a><ul>
<li class="chapter" data-level="6.1" data-path="control-flow.html"><a href="control-flow.html#for-loops"><i class="fa fa-check"></i><b>6.1</b> For loops</a><ul>
<li class="chapter" data-level="6.1.1" data-path="control-flow.html"><a href="control-flow.html#creating-empty-data-structures"><i class="fa fa-check"></i><b>6.1.1</b> Creating empty data structures</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>7</b> Functions</a><ul>
<li class="chapter" data-level="7.1" data-path="functions.html"><a href="functions.html#source-code"><i class="fa fa-check"></i><b>7.1</b> Source code</a></li>
<li class="chapter" data-level="7.2" data-path="functions.html"><a href="functions.html#writing-functions"><i class="fa fa-check"></i><b>7.2</b> Writing functions</a><ul>
<li class="chapter" data-level="7.2.1" data-path="functions.html"><a href="functions.html#evaluation"><i class="fa fa-check"></i><b>7.2.1</b> Evaluation</a></li>
<li class="chapter" data-level="7.2.2" data-path="functions.html"><a href="functions.html#checking-inputs"><i class="fa fa-check"></i><b>7.2.2</b> Checking inputs</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="functions.html"><a href="functions.html#messages"><i class="fa fa-check"></i><b>7.3</b> Messages</a><ul>
<li class="chapter" data-level="7.3.1" data-path="functions.html"><a href="functions.html#optional-arguments"><i class="fa fa-check"></i><b>7.3.1</b> Optional arguments</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="functions.html"><a href="functions.html#functions-with-dplyr"><i class="fa fa-check"></i><b>7.4</b> Functions with dplyr</a><ul>
<li class="chapter" data-level="7.4.1" data-path="functions.html"><a href="functions.html#non-standard-evaluation"><i class="fa fa-check"></i><b>7.4.1</b> Non standard evaluation</a></li>
<li class="chapter" data-level="7.4.2" data-path="functions.html"><a href="functions.html#writing-dplyr-functions"><i class="fa fa-check"></i><b>7.4.2</b> Writing dplyr functions</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="functions.html"><a href="functions.html#ggplot"><i class="fa fa-check"></i><b>7.5</b> ggplot</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="base-r.html"><a href="base-r.html"><i class="fa fa-check"></i><b>8</b> Base R</a><ul>
<li class="chapter" data-level="8.1" data-path="base-r.html"><a href="base-r.html#palette"><i class="fa fa-check"></i><b>8.1</b> Palette</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>9</b> ggplot2</a><ul>
<li class="chapter" data-level="9.1" data-path="ggplot2.html"><a href="ggplot2.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a><ul>
<li class="chapter" data-level="9.1.1" data-path="ggplot2.html"><a href="ggplot2.html#geoms"><i class="fa fa-check"></i><b>9.1.1</b> geoms</a></li>
<li class="chapter" data-level="9.1.2" data-path="ggplot2.html"><a href="ggplot2.html#layering"><i class="fa fa-check"></i><b>9.1.2</b> Layering</a></li>
<li class="chapter" data-level="9.1.3" data-path="ggplot2.html"><a href="ggplot2.html#aesthetics"><i class="fa fa-check"></i><b>9.1.3</b> Aesthetics</a></li>
<li class="chapter" data-level="9.1.4" data-path="ggplot2.html"><a href="ggplot2.html#syntax"><i class="fa fa-check"></i><b>9.1.4</b> Syntax</a></li>
<li class="chapter" data-level="9.1.5" data-path="ggplot2.html"><a href="ggplot2.html#stat"><i class="fa fa-check"></i><b>9.1.5</b> Stat</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ggplot2.html"><a href="ggplot2.html#geom_point"><i class="fa fa-check"></i><b>9.2</b> geom_point</a><ul>
<li class="chapter" data-level="9.2.1" data-path="ggplot2.html"><a href="ggplot2.html#jitter"><i class="fa fa-check"></i><b>9.2.1</b> Jitter</a></li>
<li class="chapter" data-level="9.2.2" data-path="ggplot2.html"><a href="ggplot2.html#labels"><i class="fa fa-check"></i><b>9.2.2</b> Labels</a></li>
<li class="chapter" data-level="9.2.3" data-path="ggplot2.html"><a href="ggplot2.html#colour-points"><i class="fa fa-check"></i><b>9.2.3</b> Colour points</a></li>
<li class="chapter" data-level="9.2.4" data-path="ggplot2.html"><a href="ggplot2.html#matrix-of-plots"><i class="fa fa-check"></i><b>9.2.4</b> Matrix of plots</a></li>
<li class="chapter" data-level="9.2.5" data-path="ggplot2.html"><a href="ggplot2.html#adding-lines"><i class="fa fa-check"></i><b>9.2.5</b> Adding lines</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="ggplot2.html"><a href="ggplot2.html#bar-graphs-histograms"><i class="fa fa-check"></i><b>9.3</b> Bar graphs &amp; histograms</a></li>
<li class="chapter" data-level="9.4" data-path="ggplot2.html"><a href="ggplot2.html#geom_boxplot"><i class="fa fa-check"></i><b>9.4</b> geom_boxplot</a></li>
<li class="chapter" data-level="9.5" data-path="ggplot2.html"><a href="ggplot2.html#facets"><i class="fa fa-check"></i><b>9.5</b> Facets</a></li>
<li class="chapter" data-level="9.6" data-path="ggplot2.html"><a href="ggplot2.html#reordering-factors"><i class="fa fa-check"></i><b>9.6</b> Reordering factors</a></li>
<li class="chapter" data-level="9.7" data-path="ggplot2.html"><a href="ggplot2.html#coordinate-systems"><i class="fa fa-check"></i><b>9.7</b> Coordinate systems</a></li>
<li class="chapter" data-level="9.8" data-path="ggplot2.html"><a href="ggplot2.html#reference-lines"><i class="fa fa-check"></i><b>9.8</b> Reference lines</a></li>
<li class="chapter" data-level="9.9" data-path="ggplot2.html"><a href="ggplot2.html#error-bars"><i class="fa fa-check"></i><b>9.9</b> Error bars</a></li>
<li class="chapter" data-level="9.10" data-path="ggplot2.html"><a href="ggplot2.html#appearance"><i class="fa fa-check"></i><b>9.10</b> Appearance</a></li>
<li class="chapter" data-level="9.11" data-path="ggplot2.html"><a href="ggplot2.html#dplyr-ggplot2"><i class="fa fa-check"></i><b>9.11</b> dplyr &amp; ggplot2</a></li>
<li class="chapter" data-level="9.12" data-path="ggplot2.html"><a href="ggplot2.html#saving-graphs"><i class="fa fa-check"></i><b>9.12</b> Saving graphs</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="other-visualisation-packages.html"><a href="other-visualisation-packages.html"><i class="fa fa-check"></i><b>10</b> Other visualisation packages</a><ul>
<li class="chapter" data-level="10.1" data-path="other-visualisation-packages.html"><a href="other-visualisation-packages.html#pheatmap"><i class="fa fa-check"></i><b>10.1</b> pheatmap</a></li>
<li class="chapter" data-level="10.2" data-path="other-visualisation-packages.html"><a href="other-visualisation-packages.html#venndiagram"><i class="fa fa-check"></i><b>10.2</b> VennDiagram</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-table.html"><a href="data-table.html"><i class="fa fa-check"></i><b>11</b> data.table</a><ul>
<li class="chapter" data-level="11.1" data-path="data-table.html"><a href="data-table.html#fread"><i class="fa fa-check"></i><b>11.1</b> fread</a></li>
<li class="chapter" data-level="11.2" data-path="data-table.html"><a href="data-table.html#subsetting-2"><i class="fa fa-check"></i><b>11.2</b> Subsetting</a><ul>
<li class="chapter" data-level="11.2.1" data-path="data-table.html"><a href="data-table.html#rows"><i class="fa fa-check"></i><b>11.2.1</b> Rows</a></li>
<li class="chapter" data-level="11.2.2" data-path="data-table.html"><a href="data-table.html#columns"><i class="fa fa-check"></i><b>11.2.2</b> Columns</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="data-table.html"><a href="data-table.html#functions-1"><i class="fa fa-check"></i><b>11.3</b> Functions</a></li>
<li class="chapter" data-level="11.4" data-path="data-table.html"><a href="data-table.html#grouping-1"><i class="fa fa-check"></i><b>11.4</b> Grouping</a><ul>
<li class="chapter" data-level="11.4.1" data-path="data-table.html"><a href="data-table.html#expressions"><i class="fa fa-check"></i><b>11.4.1</b> Expressions</a></li>
<li class="chapter" data-level="11.4.2" data-path="data-table.html"><a href="data-table.html#order"><i class="fa fa-check"></i><b>11.4.2</b> Order</a></li>
<li class="chapter" data-level="11.4.3" data-path="data-table.html"><a href="data-table.html#functions-on-groups"><i class="fa fa-check"></i><b>11.4.3</b> Functions on groups</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="data-table.html"><a href="data-table.html#keys"><i class="fa fa-check"></i><b>11.5</b> Keys</a></li>
<li class="chapter" data-level="11.6" data-path="data-table.html"><a href="data-table.html#reshaping"><i class="fa fa-check"></i><b>11.6</b> Reshaping</a></li>
<li class="chapter" data-level="11.7" data-path="data-table.html"><a href="data-table.html#merge"><i class="fa fa-check"></i><b>11.7</b> Merge</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>12</b> Rmarkdown</a><ul>
<li class="chapter" data-level="12.1" data-path="rmarkdown.html"><a href="rmarkdown.html#basics-1"><i class="fa fa-check"></i><b>12.1</b> Basics</a></li>
<li class="chapter" data-level="12.2" data-path="rmarkdown.html"><a href="rmarkdown.html#knitr"><i class="fa fa-check"></i><b>12.2</b> Knitr</a><ul>
<li class="chapter" data-level="12.2.1" data-path="rmarkdown.html"><a href="rmarkdown.html#yamal-header"><i class="fa fa-check"></i><b>12.2.1</b> YAMAL header</a></li>
<li class="chapter" data-level="12.2.2" data-path="rmarkdown.html"><a href="rmarkdown.html#chunk-options"><i class="fa fa-check"></i><b>12.2.2</b> Chunk options</a></li>
<li class="chapter" data-level="12.2.3" data-path="rmarkdown.html"><a href="rmarkdown.html#global-options"><i class="fa fa-check"></i><b>12.2.3</b> Global options</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="rmarkdown.html"><a href="rmarkdown.html#bookdown"><i class="fa fa-check"></i><b>12.3</b> Bookdown</a><ul>
<li class="chapter" data-level="12.3.1" data-path="rmarkdown.html"><a href="rmarkdown.html#rendering"><i class="fa fa-check"></i><b>12.3.1</b> Rendering</a></li>
<li class="chapter" data-level="12.3.2" data-path="rmarkdown.html"><a href="rmarkdown.html#structure"><i class="fa fa-check"></i><b>12.3.2</b> Structure</a></li>
<li class="chapter" data-level="12.3.3" data-path="rmarkdown.html"><a href="rmarkdown.html#yamal-header-1"><i class="fa fa-check"></i><b>12.3.3</b> YAMAL header</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="rmarkdown.html"><a href="rmarkdown.html#html-on-github"><i class="fa fa-check"></i><b>12.4</b> HTML on Github</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="package-development.html"><a href="package-development.html"><i class="fa fa-check"></i><b>13</b> Package development</a><ul>
<li class="chapter" data-level="13.1" data-path="package-development.html"><a href="package-development.html#naming"><i class="fa fa-check"></i><b>13.1</b> Naming</a></li>
<li class="chapter" data-level="13.2" data-path="package-development.html"><a href="package-development.html#states"><i class="fa fa-check"></i><b>13.2</b> States</a><ul>
<li class="chapter" data-level="13.2.1" data-path="package-development.html"><a href="package-development.html#source"><i class="fa fa-check"></i><b>13.2.1</b> Source</a></li>
<li class="chapter" data-level="13.2.2" data-path="package-development.html"><a href="package-development.html#bundled"><i class="fa fa-check"></i><b>13.2.2</b> Bundled</a></li>
<li class="chapter" data-level="13.2.3" data-path="package-development.html"><a href="package-development.html#binary-package"><i class="fa fa-check"></i><b>13.2.3</b> Binary package</a></li>
<li class="chapter" data-level="13.2.4" data-path="package-development.html"><a href="package-development.html#installed"><i class="fa fa-check"></i><b>13.2.4</b> Installed</a></li>
<li class="chapter" data-level="13.2.5" data-path="package-development.html"><a href="package-development.html#in-memory"><i class="fa fa-check"></i><b>13.2.5</b> In memory</a></li>
<li class="chapter" data-level="13.2.6" data-path="package-development.html"><a href="package-development.html#summary"><i class="fa fa-check"></i><b>13.2.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="package-development.html"><a href="package-development.html#r-cmd-install"><i class="fa fa-check"></i><b>13.3</b> R CMD install</a></li>
<li class="chapter" data-level="13.4" data-path="package-development.html"><a href="package-development.html#workflow"><i class="fa fa-check"></i><b>13.4</b> Workflow</a></li>
<li class="chapter" data-level="13.5" data-path="package-development.html"><a href="package-development.html#file-structure"><i class="fa fa-check"></i><b>13.5</b> File structure</a></li>
<li class="chapter" data-level="13.6" data-path="package-development.html"><a href="package-development.html#description"><i class="fa fa-check"></i><b>13.6</b> DESCRIPTION</a><ul>
<li class="chapter" data-level="13.6.1" data-path="package-development.html"><a href="package-development.html#imports"><i class="fa fa-check"></i><b>13.6.1</b> Imports</a></li>
<li class="chapter" data-level="13.6.2" data-path="package-development.html"><a href="package-development.html#suggests"><i class="fa fa-check"></i><b>13.6.2</b> Suggests</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="package-development.html"><a href="package-development.html#namespace"><i class="fa fa-check"></i><b>13.7</b> NAMESPACE</a><ul>
<li class="chapter" data-level="13.7.1" data-path="package-development.html"><a href="package-development.html#search-paths"><i class="fa fa-check"></i><b>13.7.1</b> Search paths</a></li>
<li class="chapter" data-level="13.7.2" data-path="package-development.html"><a href="package-development.html#file-syntax"><i class="fa fa-check"></i><b>13.7.2</b> File syntax</a></li>
<li class="chapter" data-level="13.7.3" data-path="package-development.html"><a href="package-development.html#exporting-1"><i class="fa fa-check"></i><b>13.7.3</b> Exporting</a></li>
<li class="chapter" data-level="13.7.4" data-path="package-development.html"><a href="package-development.html#importing"><i class="fa fa-check"></i><b>13.7.4</b> Importing</a></li>
<li class="chapter" data-level="13.7.5" data-path="package-development.html"><a href="package-development.html#exporting-2"><i class="fa fa-check"></i><b>13.7.5</b> Exporting</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="package-development.html"><a href="package-development.html#documentation"><i class="fa fa-check"></i><b>13.8</b> Documentation</a><ul>
<li class="chapter" data-level="13.8.1" data-path="package-development.html"><a href="package-development.html#roxygen2"><i class="fa fa-check"></i><b>13.8.1</b> Roxygen2</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rmarkdown" class="section level1">
<h1><span class="header-section-number">Chapter 12</span> Rmarkdown</h1>
<p>Useful references:</p>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown/">R markdown: the definitive guide</a></li>
<li>C Shalizi’s <a href="http://www.stat.cmu.edu/~cshalizi/rmarkdown/">R Markdown for Class Reports</a></li>
<li><a href="https://pandoc.org/MANUAL.html#pandocs-markdown">Pandoc User’s Guide</a></li>
</ul>
<p>The difference between markdown and LaTeX, which are both typesetting languages (?).</p>
<ul>
<li>Markdown designed for html. Easy to learn and type but you do not have fine control over typesetting.<br />
</li>
<li>LaTeX designed for pdf and related outputs. Relatively more difficult to learn but you have control over everything.</li>
</ul>
<p>Note that markdown can create both html and pdf output and same for LaTeX. Pandoc can convert markdown to almost everything.</p>
<p>Pages are the source of all (?) problems when the output is not html. In html there are no page breaks and no need to worry about where to place figures, tables and images. Things are able to just appear linearly.</p>
<p>Pages result in ‘floating environments’ becase a graph/table cannot be broken over two pages, by default it can float to unexpected places.</p>
<p>Rmarkdown is a variant of Markdown developed by RStudio. Can include embedded code chunks. To convert a Rmarkdown document to html (or any markdown document), you can use the markdown package - which uses pandoc for the actual conversion. RStudio includes pandoc, so if you install RStudio, you won’t need to install pandoc separately.</p>
<div id="basics-1" class="section level2">
<h2><span class="header-section-number">12.1</span> Basics</h2>
<ul>
<li><code>--</code> turns into endash (long line).</li>
<li><code>---</code> turns into emdash (longer line).
<ul>
<li>If you want actual <code>--</code> (2 dashes) use  to escape 2nd dash <code>-\-</code>.</li>
</ul></li>
<li>To output text verbatim, surround with backticks.</li>
</ul>
</div>
<div id="knitr" class="section level2">
<h2><span class="header-section-number">12.2</span> Knitr</h2>
<p>Useful references:</p>
<ul>
<li>YiHui’s <a href="https://yihui.name/knitr/options/">page</a> on knitr options</li>
<li>K Broman’s <a href="http://kbroman.org/knitr_knutshell/pages/Rmarkdown.html">knitr in a knutshell</a></li>
</ul>
<div id="yamal-header" class="section level3">
<h3><span class="header-section-number">12.2.1</span> YAMAL header</h3>
<p>Text-based format for specifying data.</p>
<p>Example:</p>
<pre><code>---
title: &quot;Habits&quot;
author:
- auth1
- auth2

date: March 22, 2005
output:
  pdf_document:
    toc: true
    toc_depth: 2
---</code></pre>
<ul>
<li>To get your TOC on a new page (after the title page), use <code>\newpage</code> after the yaml header.</li>
<li>See <a href="https://stackoverflow.com/questions/26043807/multiple-authors-and-subtitles-in-rmarkdown-yaml">this</a> SO question for more on including multiple authors.</li>
</ul>
</div>
<div id="chunk-options" class="section level3">
<h3><span class="header-section-number">12.2.2</span> Chunk options</h3>
<p>This goes at the top of the code chunk along in <code>{r, }</code>.</p>
<ul>
<li><code>eval</code> - Logical: whether or not to evaluate the code chunk.
<ul>
<li>Or you can tell it to evaluate certain functions only with <code>eval=c(1,2,3)</code>. Numbers seem to refer to ‘expressions’. Expressions numbered thus:</li>
<li>Start counting from #1 and each complete line(s) of code counted. If code runs over &gt;1 line (e.g. for loops) it still counts as 1 expression.</li>
<li>Each individual empty lines are also counted as onw ‘expression’. E.g. if you have two empty lines before your first line of code, your code line is number 3.</li>
<li>Code should still be output (seen) in the file when <code>eval=FALSE</code>.</li>
</ul></li>
<li><code>echo</code> - Logical: Include R source code in output file.</li>
<li><code>error</code> - Logical: If you want your error messages to show, turn off error checking using <code>error=TRUE</code>.</li>
<li><code>include</code> - Logical: Include chunk output in final document. If FALSE, nothing outputs except plots. This is not cached.</li>
<li><code>results</code> - Controls text output.
<ul>
<li>‘Hide’ hides normal R output (does not apply to warnings, messages or errors). So the messages that output after library loading will still display. Can suppresses the console output when generating plots but keeps plots.</li>
<li>‘Hold’ - without this option, output will print after the each line of code (which produces output) within a chunk. Hold will cause all output to be displayed at the end of the chunk.</li>
</ul></li>
<li><code>out.width</code> &amp; <code>out.height</code> - Width and height of plots in output.
<ul>
<li>For LaTeX can be <code>8\\linewidth</code>, <code>3in</code> or <code>8cm</code>.</li>
<li>Can also use percentage <code>'40%'</code> (which is translated to 0.4, when output is latex).</li>
</ul></li>
<li><code>message</code> - Logical: stops messages like the ones that output after loading package.</li>
<li><code>cache</code> - Cached code chunks are NOT evaluated. Objects created from these chunks are lazy loaded from previously saved databases (it will save it).</li>
</ul>
<p>For the problem of code in a code chunk running off the page you can:</p>
<ol style="list-style-type: decimal">
<li>Set <code>tidy=FALSE</code>.</li>
<li>Space your code out how you want to</li>
</ol>
<p>You can also try <code>{r, tidy.opts=list(width.cutoff = 30)}</code>.</p>
<p>Plots</p>
<ul>
<li><code>fig.keep</code> - Options:
<ul>
<li>‘high’ - only high quality plots.</li>
<li>‘none’ - discard all.</li>
<li>‘all’ - keep all plots.</li>
<li>‘first’ - only first.</li>
<li>‘last’ - only last.</li>
</ul></li>
<li><code>fig.show</code> -
<ul>
<li>‘hold’ hold all plots and output them at the end of the chunk. Use this when you have comment/lines after your plotting code. Results = ‘hold’ does not work for holding plot output until end of chunk!</li>
</ul></li>
<li><code>fig.align</code> - alignment of figure.</li>
</ul>
<p>To get figures to show side-by-side set fig.align=‘center’ &amp; fig.show=‘hold’ (<a href="https://stackoverflow.com/questions/37115276/control-alignment-of-two-side-by-side-plots-in-knitr" class="uri">https://stackoverflow.com/questions/37115276/control-alignment-of-two-side-by-side-plots-in-knitr</a>)</p>
</div>
<div id="global-options" class="section level3">
<h3><span class="header-section-number">12.2.3</span> Global options</h3>
<p>Use <code>knitr::opts_chunk$set</code> to set chunk options for all chunks in a document.</p>
<p>For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">fig.width=</span><span class="dv">12</span>, <span class="dt">fig.height=</span><span class="dv">8</span>, <span class="dt">fig.path=</span><span class="st">&#39;Figs/&#39;</span>,
               <span class="dt">echo=</span><span class="ot">TRUE</span>, <span class="dt">warning=</span><span class="ot">FALSE</span>, <span class="dt">message=</span><span class="ot">FALSE</span>)</code></pre></div>
</div>
</div>
<div id="bookdown" class="section level2">
<h2><span class="header-section-number">12.3</span> Bookdown</h2>
<p>Useful references:</p>
<ul>
<li>YiHui’s <a href="https://bookdown.org/yihui/bookdown">Bookdown</a></li>
<li>K Ross’s getting started <a href="https://github.com/seankross/seankross.github.io/blob/master/_posts/2016-11-16-How-to-Start-a-Bookdown-Book.md">github page</a></li>
</ul>
<p>Major output formats:</p>
<ul>
<li>bookdown::pdf_book</li>
<li>bookdown::gitbook</li>
<li>bookdown::html_book</li>
<li>bookdown::epub_book</li>
<li>bookdown::render_book - render multiple Rmd documents into a book using the output format functions</li>
</ul>
<div id="rendering" class="section level3">
<h3><span class="header-section-number">12.3.1</span> Rendering</h3>
<p>There are 2 approaches to rendering:</p>
<ol style="list-style-type: decimal">
<li>Merge and knit - merge all chapters into one Rmd file and knitting together.</li>
<li>Knit and merge - knit each chapter in a separate R session and merge the markdown output of all chapters to render the book.</li>
</ol>
<p>Differences:</p>
<ul>
<li>In M&amp;K the state of the R session from previous chapters are carried over to later chapters (e.g. objects created in previous chapters are carried over). With K&amp;M, all chapters are isolated from each other. If you use M&amp;K, it can be very difficult to restore a running R session to a completely clean state (e.g. even if you detach/unload packages previously loaded, R will not clean up the S3 methods registered by these packages).</li>
<li>No duplicate chunk labels allowed in the M&amp;K approach.</li>
<li>K&amp;M does not allow Rmd files to be in subdirectories.</li>
<li>Default is M&amp;K. To switch: set <code>new_session = TRUE</code> when calling <code>render_book()</code>, or set <code>new_session: yes</code> in the configuration file ’_bookdown.yml’.</li>
</ul>
</div>
<div id="structure" class="section level3">
<h3><span class="header-section-number">12.3.2</span> Structure</h3>
<ul>
<li>Bookdown merges Rmd files by order of file names (e.g. 01-chap1, 0.2-chap2…). Names that start with an underscore ’_’ will be ignored.</li>
<li>index.Rmd file will be the ‘main’ or first file.
<ul>
<li>This is because the HTML file index.html to be generated from index.Rmd, is usually the default index file.</li>
<li>To override this, include a configuration file called ’_bookdown.yml’. Here you can define your list and order of Rmd files - <code>rmd_files:[&quot;index.Rmd&quot;, &quot;abstract.Rmd&quot;, &quot;intro.Rmd&quot;]</code></li>
<li>Underscores and ‘index/Rmd’ will not be treated differently if ‘rmd_files’ is included.</li>
</ul></li>
</ul>
</div>
<div id="yamal-header-1" class="section level3">
<h3><span class="header-section-number">12.3.3</span> YAMAL header</h3>
<p>These options are passed to the GitBook HTML template via Pandoc. They may not have clear visible effects on the HTML output but may be useful when you deploy the HTML output as a website.</p>
<ul>
<li><code>description</code> - A character string to be written to the content attribute of the tag <code>&lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;</code> in the HTML heading (if missing, the title of the book will be used). This can be useful for search engine optimization (SEO). Note that it should be plain text without any Markdown formatting such as <code>_italic_</code> or <code>**bold**</code>.</li>
<li><code>url</code> - The URL of book’s website. E.g. <code>https\://bookdown.org/yihui/bookdown/</code> (note the ‘' before’:’)</li>
<li><code>github-repo</code> - The GitHub repository of the book of the form user/repo You can add a Github button in the sharing buttons on the toolbar by setting <code>github:yes</code> under <code>sharing</code> in the gitbook configurations (see bookdown <a href="https://github.com/rstudio/bookdown/blob/master/NEWS.md">news</a> for more).</li>
</ul>
</div>
</div>
<div id="html-on-github" class="section level2">
<h2><span class="header-section-number">12.4</span> HTML on Github</h2>
<p>How to render html file on github instead of the raw file - add <code>http://htmlpreview.github.io/?</code> to the start of the page url, once you have opened in github:</p>
<p>E.g.</p>
<pre><code>http://htmlpreview.github.io/?https://github.com/lucyleeow/StatisticalRethinking/blob/master/Chapter2.nb.html

https://github.com/lucyleeow/StatisticalRethinking/blob/master/Chapter2.nb.html
</code></pre>
<p>Or use <code>rawgit.com</code>:</p>
<pre><code>Rendered html:
https://rawgit.com/lucyleeow/StatisticalRethinking/master/Chapter2.nb.html
Raw html:
https://github.com/lucyleeow/StatisticalRethinking/blob/master/Chapter2.nb.html</code></pre>
<p>Note delete ‘blob’ as well.</p>
<p>Reference <a href="https://stackoverflow.com/questions/8446218/how-to-see-an-html-page-on-github-as-a-normal-rendered-html-page-to-see-preview">SO</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-table.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="package-development.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/11-rmarkdown.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["R notes.pdf", "R notes.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
