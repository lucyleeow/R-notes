# Data wrangling - base R

## Useful functions

 `floor()` returns the largest integer not greater than the input number(s)
 
 `ceiling()` returns the smallest integer not less than the input number(s)
 
```{r}
floor(2.6)
ceiling(2.6)
```
 
`sort()` returns sorted vector. Sorts alphabetically/numerically, depending on the data type. `decreasing` lets you inverse order.

```{r}
sort(iris$Sepal.Length[1:10])
```

`order()` gives the indicies of the vector in sorted order. For example, if you wanted to sort a dataframe according to the values in one column you can use:

```{r}
head(
iris[order(iris$Sepal.Length),]
)
```

`match()` orders the 1st argument according to the 2nd argument. 

For example, if you wanted to order a vector of strings according to a specific order defined by another vector of strings:

```{r}
# define vectors
a <- c("a","c","b") 
b <- c("a","b","c") # the order we want
match(a,b)
```

Match says that in the vector “b”, the first element should be 1st, the second “c” should be 3rd and the last one “b” should be 2nd. 

If you wish to order `a` you can use:

```{r}
a[match(a,b)]
```

`%in%` finds matches in the RHS vector and returns a vector of logicals the same length as the LHS vector.

```{r}
c(1,3,5) %in% 1:3
```

## Subsetting
Useful references: [advanced R](http://adv-r.had.co.nz/Subsetting.html), [R manual](https://cran.r-project.org/doc/manuals/R-lang.html#Indexing)

* `[ ]` - Returns an object that is of the same type as original UNLESS the one exception is when your subset only has one result). The default is to reduce results to the lowest dimension. E.g. taking a subset of 1 column in a df returns a vector. You can override this to return a df by using argument drop=false (`iris[ , "Petal.Length", drop=FALSE ]`). For arrays, it will return array with lowest possible dimensionality.
You can also use it to obtain a vector longer than the original. E.g:
```{r}
a <- c("black", "red")
a[c(1,2,1,1)]
```

* `[[ ]]` Extracts one element. For vector = single value, df = column, list = one element. Result is not necessarily the same data structure as the original. Important for list as using `[ ]` on a list returns a list. E.g. for a list of dataframes, `list1[1]` returns a list with one element - a dataframe, `list1[[1]]` returns a dataframe. 
    * As `[[ ]]` can only return a single value, it must be used with single positive integer or string (name). With `[ ]` you can input a vector and get several elements of the container. 
    
* `$` Can be used for recursive objects - lists and pairlists. Can only give it a character or symbol as the index

    












